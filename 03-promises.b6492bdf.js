!function(){var t=["СЕКРИТАРИАТ","ЭКЛИПС","ВЕСТ АВСТРАЛИАН","ФЛАИНГ ФОКС","СЕБИСКЕТ"],e=0,n={startBtn:document.querySelector(".js-rase-btn"),winner:document.querySelector(".winner"),progress:document.querySelector(".progress"),tableBody:document.querySelector(".js-result-table > tbody")};function r(t){n.winner.textContent=t}function o(t){n.progress.textContent=t}n.startBtn.addEventListener("click",(function(){e+=1;var c=t.map((function(t){return function(t){return new Promise((function(e){var n,r,o=(n=2e3,r=3500,Math.floor(Math.random()*(r-n+1)+n));setTimeout((function(){e({horse:t,time:o})}),o)}))}(t)}));r(""),o("Заезд начался, ставки не принимаются"),a=c,Promise.race(a).then((function(t){var o=t.horse,c=t.time;r("Победил ".concat(o,", финишировал за ").concat(c)),function(t){var e=t.horse,r=t.time,o=t.raceCounter,c="<tr><td>".concat(o,"</td><td>").concat(e,"</td><td>").concat(r,"</td></tr>");n.tableBody.insertAdjacentHTML("beforeend",c)}({horse:o,time:c,raceCounter:e})})),function(t){Promise.all(t).then((function(){return o("Заезд окончен, принимаются ставки.")}))}(c);var a}))}();
//# sourceMappingURL=03-promises.b6492bdf.js.map
