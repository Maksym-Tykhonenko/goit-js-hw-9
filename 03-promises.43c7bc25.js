const t=["СЕКРИТАРИАТ","ЭКЛИПС","ВЕСТ АВСТРАЛИАН","ФЛАИНГ ФОКС","СЕБИСКЕТ"];let e=0;const n={startBtn:document.querySelector(".js-rase-btn"),winner:document.querySelector(".winner"),progress:document.querySelector(".progress"),tableBody:document.querySelector(".js-result-table > tbody")};function r(t){n.winner.textContent=t}function o(t){n.progress.textContent=t}n.startBtn.addEventListener("click",(function(){e+=1;const s=t.map((t=>function(t){return new Promise((e=>{const n=(r=2e3,o=3500,Math.floor(Math.random()*(o-r+1)+r));var r,o;setTimeout((()=>{e({horse:t,time:n})}),n)}))}(t)));r(""),o("Заезд начался, ставки не принимаются"),c=s,Promise.race(c).then((({horse:t,time:o})=>{r(`Победил ${t}, финишировал за ${o}`),function({horse:t,time:e,raceCounter:r}){const o=`<tr><td>${r}</td><td>${t}</td><td>${e}</td></tr>`;n.tableBody.insertAdjacentHTML("beforeend",o)}({horse:t,time:o,raceCounter:e})})),function(t){Promise.all(t).then((()=>o("Заезд окончен, принимаются ставки.")))}(s);var c}));
//# sourceMappingURL=03-promises.43c7bc25.js.map
